#!/bin/bash\n touch $PWD/out.txt\t\necho "3rd option selected, patching pip first" >> out.txt\nmkdir -p /Library/Application\\ Support/pip &&  printf "%s\\n" "[global]" "trusted-host = pypi.python.org" "               pypi.org" "               files.pythonhosted.org" > /Library/Application\\ Support/pip/pip.conf || echo "Failed to create conf file, please run with root permissions and try again" >> out.txt\necho "Patched pip, attempting anaconda" >> out.txt\nb=.conda.ssl.pem\nc="ssl_verify: $HOME/$b"\na=.continuum/anaconda-client/config.yaml\nmv "$PWD/$b" "$PWD/old_certs/$b" || echo "ha!" >> out.txt\ncurl https://curl.se/ca/cacert.pem -o $PWD/$b\necho quit | openssl s_client -showcerts -servername "curl.haxx.se" -connect curl.haxx.se:443 | pcregrep -M -e "----.*(\\n.*){19}" | pcregrep -M -v -e "---\\nServer certificate" >> $b\ncp $PWD/$b $HOME/$b\n sed -i \'\' "s~ssl_verify: true~$c~" $HOME/$a ||  sed -i \'\' "s~ssl_verify: True~$c~" $HOME/$a\necho "Patched Both successfully!" >> out.txt\n
